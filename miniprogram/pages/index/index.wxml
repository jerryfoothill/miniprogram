<!-- 聊天助手页面 -->
<view class="container">
  <!-- 顶部标题 -->
  <view class="header">
    <text class="title">AI 助手</text>
  </view>

  <!-- 聊天内容区域 -->
  <scroll-view class="chat-container" scroll-y scroll-into-view="{{scrollToView}}">
    <block wx:if="{{messages.length > 0}}">
      <view wx:for="{{messages}}" wx:key="index" class="message-item {{item.role === 'user' ? 'user-message' : 'ai-message'}}">
        <view class="message-content">{{item.content}}</view>
      </view>
    </block>
    <block wx:else>
      <!-- 中间声波动画区域 -->
      <view class="voice-animation-container">
        <view class="voice-animation">
          <view class="voice-dot"></view>
          <view class="voice-dot"></view>
          <view class="voice-dot"></view>
          <view class="voice-dot"></view>
        </view>
        <text class="welcome-text">请输入您的问题...</text>
      </view>
    </block>
    <!-- 用于自动滚动到底部的锚点 -->
    <view id="message-bottom"></view>
  </scroll-view>

  <!-- 底部输入区域 -->
  <view class="input-container">
    <input 
      class="message-input" 
      type="text" 
      confirm-type="send"
      placeholder="输入您的问题..."
      value="{{inputMessage}}"
      bindinput="onMessageInput"
      bindconfirm="sendMessage"
    />
    <view class="send-button" bindtap="sendMessage">
      <view class="send-icon"></view>
    </view>
  </view>
</view>
